<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../logado/template.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                xmlns:f="http://xmlns.jcp.org/jsf/core">

    <ui:define name="conteudo">
        <h1 class="jr-titulo1">Ocupações de salas</h1>

        <h:form id="form_pesquisa">
            <p:messages id="mens" autoUpdate="true" />
            
            <p:toolbar styleClass="toolbar">
                <p:toolbarGroup style="margin-right: 5px">
                    <p:selectCheckboxMenu id="salasParaPesquisa" value="#{ocupacaoControle.salasSelecionadas}" label="Salas" filter="false" converter="conversorSala" panelStyle="width:250px">
                        <f:selectItems value="#{ocupacaoControle.salasParaPesquisa}" var="salaPesquisa" itemLabel="#{salaPesquisa.nome}" itemValue="#{salaPesquisa}"/>
                    </p:selectCheckboxMenu>
                </p:toolbarGroup>
                <p:separator></p:separator>
                <p:toolbarGroup style="margin-right: 5px">
                    <p:outputLabel for="dataInicioPesq" value="Data Inicio:"/>
                    <p:calendar id="dataInicioPesq" value="#{ocupacaoControle.dataInicioPesquisa}" locale="pt" navigator="true" pattern="dd-MM-yyyy"/>
                </p:toolbarGroup>
                <p:separator></p:separator>
                <p:toolbarGroup style="margin-right: 5px">
                    <p:outputLabel for="dataFimPesq" value="Data Final:"/>
                    <p:calendar id="dataFimPesq" value="#{ocupacaoControle.dataFimPesquisa}" locale="pt" navigator="true" pattern="dd-MM-yyyy"/>
                </p:toolbarGroup>
                <p:separator></p:separator>
                <p:toolbarGroup style="margin-right: 5px">
                    <p:commandButton value="Pesquisar" actionListener="#{ocupacaoControle.pesquisa()}" update="timelineTodasSalas" />
                </p:toolbarGroup>
                <p:separator></p:separator>
                <p:toolbarGroup>
                    <p:commandButton value="Novo"/>
                </p:toolbarGroup>
            </p:toolbar>

            <p:timeline id="timelineTodasSalas" value="#{ocupacaoControle.timeline}" editable="false" 
                        start="#{ocupacaoControle.inicioTimeline}" end="#{ocupacaoControle.fimTimeline}" 
                        zoomMin="#{ocupacaoControle.zoomMin}" zoomMax="#{ocupacaoControle.zoomMax}" 
                        eventMargin="10" eventMarginAxis="0" showNavigation="true" showButtonNew="false" 
                        axisOnTop="true"/>
        </h:form>
    </ui:define>

</ui:composition>